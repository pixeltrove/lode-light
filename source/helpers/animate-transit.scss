// ANIMATE TRANSIT
// -----------------------------------------------------------------------------

@use "sass:list";
@use "sass:math";
@use "../settings" as *;

// Animate transit

@mixin animate-transit($type: "slide", $duration: "regular", $translate-axis: "Y", $translate-start: -1rem) {
  $types: ("fade", "slide");
  $durations: ("regular", "slow");
  $translate-axes: ("X", "Y");
  $translate-units: ("px", "em", "rem", "%", "vw", "vh");

  @if not (list.index($types, $type)) {
    @error "Invalid transit animation style name. Check spelling or review helper definition.";
  } @else if not (list.index($durations, $duration)) {
    @error "Invalid transit animation duration name. Check spelling or review helper definition.";
  } @else if not (list.index($translate-axes, $translate-axis)) {
    @error "Invalid translate axis name. Check spelling or review helper definition.";
  } @else if not (list.index($translate-units, math.unit($translate-start))) {
    @error "Invalid translate start name. Check spelling or review helper definition.";
  }

  $timing: $transition-regular;
  @if ($duration == "slow") {
    $timing: $transition-slow;
  }

  &.is-transiting {
    opacity: 0;
    @if ($type == "slide") {
      transform: translate#{$translate-axis}(#{$translate-start});
      transition: opacity $timing, transform $timing;
    } @else if ($type == "fade") {
      transition: opacity $timing;
    }
  }

  &.is-shown {
    opacity: 1;
    @if ($type == "slide") {
      transform: translateY(0);
    }
  }
}
