// ANIMATE TRANSIT
// -----------------------------------------------------------------------------

@use "sass:list";
@use "sass:map";
@use "sass:math";
@use "../settings" as *;

@mixin animate-transit($effect: "slide", $transition: "regular", $axis: "Y", $origin: -1rem) {
  $valid-effects: ("fade", "slide");
  $valid-transitions: map.keys($transitions);
  $valid-axes: ("X", "Y", "");
  $valid-units: ("px", "em", "rem", "%", "vw", "vh");

  @if not (list.index($valid-effects, $effect)) {
    @error "Invalid transit animation effect name. Check spelling or review helper definition.";
  } @else if not (list.index($valid-transitions, $transition)) {
    @error "Invalid transit animation duration name. Check spelling or review helper definition.";
  } @else if not (list.index($valid-axes, $axis)) {
    @error "Invalid transit animation axis name. Check spelling or review helper definition.";
  } @else if not (list.index($valid-units, math.unit($origin))) {
    @error "Invalid transit animation origin name. Check spelling or review helper definition.";
  }

  &.is-transiting {
    opacity: 0;
    @if ($effect == "slide") {
      transform: translate#{$axis}(#{$origin});
      transition: opacity map.get($transitions, $transition), transform map.get($transitions, $transition);
    } @else if ($effect == "fade") {
      transition: opacity map.get($transitions, $transition);
    }
  }

  &.is-shown {
    opacity: 1;
    @if ($effect == "slide") {
      transform: translateY(0);
    }
  }
}
