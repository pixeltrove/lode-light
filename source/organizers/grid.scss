// GRID
// -----------------------------------------------------------------------------

@use "sass:list";
@use "sass:map";
@use "../settings" as *;
@use "../helpers/set-breakpoint" as *;

.grid {
  display: grid;
  gap: map.get($grid-gap, "default");

  @include set-breakpoint(laptop) {
    gap: map.get($grid-gap, "laptop");
  }
}

@each $breakpoint, $column-count-list in $grid-column-count {
  $prefix: if($breakpoint != "default", #{$breakpoint}\:, null);

  @include set-breakpoint($breakpoint) {
    @each $column-count in $column-count-list {
      $index: list.index($column-count-list, $column-count);
      $count-start: if($index > 1, list.nth($column-count-list, $index - 1) + 1, 1);

      .#{$prefix}grid-#{$column-count} {
        grid-template-columns: repeat($column-count, 1fr);
      }

      @for $i from $count-start through $column-count {
        .#{$prefix}grid-column-#{$i} {
          grid-column: span #{$i};
        }
      }
    }
  }
}
