// GRID
// -----------------------------------------------------------------------------

@use "sass:list";
@use "../settings" as *;
@use "../helpers/set-breakpoint" as *;

.grid {
  display: grid;
  gap: $phone-gap;

  @include set-breakpoint(laptop) {
    gap: $laptop-gap;
  }
}

@each $column-count in $phone-column-count {
  .grid-#{$column-count} {
    grid-template-columns: repeat($column-count, 1fr);
  }

  $count-start: 1;

  @if list.index($phone-column-count, $column-count) > 1 {
    $index: list.index($phone-column-count, $column-count) - 1;
    $count-start: list.nth($phone-column-count, $index) + 1;
  }

  @for $i from $count-start through $column-count {
    .grid-span-#{$i} {
      grid-column: span #{$i};
    }
  }
}

@include set-breakpoint(tablet) {
  @each $column-count in $tablet-column-count {
    .tablet\:grid-#{$column-count} {
      grid-template-columns: repeat($column-count, 1fr);
    }

    $count-start: 1;

    @if list.index($tablet-column-count, $column-count) > 1 {
      $index: list.index($tablet-column-count, $column-count) - 1;
      $count-start: list.nth($tablet-column-count, $index) + 1;
    }

    @for $i from $count-start through $column-count {
      .tablet\:grid-span-#{$i} {
        grid-column: span #{$i};
      }
    }
  }
}

@include set-breakpoint(laptop) {
  @each $column-count in $laptop-column-count {
    .laptop\:grid-#{$column-count} {
      grid-template-columns: repeat($column-count, 1fr);
    }

    $count-start: 1;

    @if list.index($laptop-column-count, $column-count) > 1 {
      $index: list.index($laptop-column-count, $column-count) - 1;
      $count-start: list.nth($laptop-column-count, $index) + 1;
    }

    @for $i from $count-start through $column-count {
      .laptop\:grid-span-#{$i} {
        grid-column: span #{$i};
      }
    }
  }
}
